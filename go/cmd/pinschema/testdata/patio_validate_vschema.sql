CREATE TABLE `_drop_me_image_factory_ads` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `creation_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `expiration_time` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `status` smallint(6) NOT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  KEY `advertiser_id` (`advertiser_id`),
  CONSTRAINT `_drop_me_image_factory_ads_ibfk_1` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `accepted_tos` (
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `tos_id` smallint(6) NOT NULL,
  `accept_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `advertiser_id` (`advertiser_id`),
  KEY `g_advertiser_id` (`g_advertiser_id`),
  KEY `tos_id` (`tos_id`),
  CONSTRAINT `accepted_tos_ibfk_1` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `ad_group_specs` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `ad_group_id` bigint(20) NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `targeting_spec_id` bigint(20) NOT NULL,
  `properties` longtext COLLATE utf8mb4_unicode_ci,
  `start_time` datetime DEFAULT NULL,
  `end_time` datetime DEFAULT NULL,
  `g_targeting_spec_id` bigint(20) DEFAULT NULL,
  `g_ad_group_id` bigint(20) DEFAULT NULL,
  `status` smallint(6) DEFAULT NULL,
  `billable_metric` int(11) DEFAULT '-1',
  `optimization_goal` int(11) DEFAULT '-1',
  `optimization_goal_metadata` mediumtext COLLATE utf8mb4_unicode_ci,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `placement_group` int(11) DEFAULT NULL,
  `action_type` int(11) DEFAULT NULL,
  `optimization_type` int(11) DEFAULT NULL,
  `bid_strategy_type` tinyint(3) unsigned DEFAULT NULL,
  `bid_cap` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `ad_group_id` (`ad_group_id`),
  KEY `targeting_spec_id` (`targeting_spec_id`),
  CONSTRAINT `_ad_group_specs_ibfk_1` FOREIGN KEY (`ad_group_id`) REFERENCES `ad_groups` (`id`),
  CONSTRAINT `_ad_group_specs_ibfk_2` FOREIGN KEY (`targeting_spec_id`) REFERENCES `targeting_specs` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `ad_groups` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `spec_id` bigint(20) DEFAULT NULL,
  `campaign_id` bigint(20) NOT NULL,
  `properties` longtext COLLATE utf8mb4_unicode_ci,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `g_campaign_id` bigint(20) NOT NULL,
  `g_spec_id` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `spec_id` (`spec_id`),
  KEY `campaign_id` (`campaign_id`),
  KEY `updated_time` (`updated_time`),
  KEY `idx_advertiser_id` (`advertiser_id`),
  CONSTRAINT `ad_groups_ibfk_1` FOREIGN KEY (`spec_id`) REFERENCES `ad_group_specs` (`id`),
  CONSTRAINT `ad_groups_ibfk_2` FOREIGN KEY (`campaign_id`) REFERENCES `campaigns` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `ad_groups_history` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `ldap` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `action_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `crud_type` enum('CREATE','UPDATE','DELETE') COLLATE utf8mb4_unicode_ci NOT NULL,
  `gtid` varchar(64) CHARACTER SET latin1 DEFAULT NULL,
  `campaign_id` bigint(20) NOT NULL,
  `g_campaign_id` bigint(20) NOT NULL,
  `auditlog_values` longtext COLLATE utf8mb4_unicode_ci,
  `internal_auditlog_values` longtext COLLATE utf8mb4_unicode_ci,
  `ad_group_id` bigint(20) NOT NULL,
  `g_ad_group_id` bigint(20) NOT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `campaign_id` (`campaign_id`),
  KEY `ad_group_id` (`ad_group_id`),
  KEY `creation_date` (`creation_date`),
  KEY `action_time` (`action_time`),
  KEY `gtid` (`gtid`),
  KEY `advertiser_id_and_time` (`advertiser_id`,`action_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `advertiser_conversion_events` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `conversion_event` int(11) DEFAULT NULL,
  `conversion_tag_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `creation_date` (`creation_date`),
  KEY `advertiser_id` (`advertiser_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `advertiser_discounts` (
  `id` bigint(20) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `active` tinyint(1) NOT NULL DEFAULT '0',
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `owner_user_id` bigint(20) DEFAULT NULL,
  `discount_in_micro_currency` bigint(20) NOT NULL,
  `attribution` mediumtext COLLATE utf8mb4_unicode_ci,
  `discount_properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `title` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `offer_id` bigint(20) DEFAULT NULL,
  `offer_code` varchar(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `bill_id` bigint(20) DEFAULT NULL,
  `g_bill_id` bigint(20) DEFAULT NULL,
  `original_discount_id` bigint(20) DEFAULT NULL,
  `g_original_discount_id` bigint(20) DEFAULT NULL,
  `type` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `expiration_date` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `advertiser_id` (`advertiser_id`),
  KEY `expiration_date` (`expiration_date`),
  CONSTRAINT `advertiser_discounts_ibfk_1` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `advertiser_labeling_results` (
  `id` bigint(20) unsigned NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) DEFAULT NULL,
  `g_advertiser_id` bigint(20) DEFAULT NULL,
  `label_id` bigint(20) unsigned NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `label_id` (`label_id`),
  KEY `advertiser_id` (`advertiser_id`),
  KEY `creation_date` (`creation_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `advertiser_sales_info` (
  `id` bigint(20) NOT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `sales_team` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `sales_team_channel` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`),
  KEY `advertisers` (`advertiser_id`,`g_advertiser_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `advertisers` (
  `id` bigint(20) NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `name` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  `owner_user_id` bigint(20) NOT NULL,
  `billing_type` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `billing_token` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `billing_profile_id` bigint(20) DEFAULT NULL,
  `billing_threshold` int(11) DEFAULT NULL,
  `test_account` tinyint(1) NOT NULL DEFAULT '0',
  `gid` bigint(20) DEFAULT NULL,
  `is_spam` tinyint(1) DEFAULT '0',
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `deleted` tinyint(1) NOT NULL DEFAULT '0',
  `country` smallint(6) NOT NULL DEFAULT '1',
  `currency` smallint(6) NOT NULL DEFAULT '1',
  `business_profile_id` bigint(20) DEFAULT NULL,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `g_billing_profile_id` bigint(20) DEFAULT NULL,
  `g_business_profile_id` bigint(20) DEFAULT NULL,
  `daily_spend_cap` int(11) DEFAULT NULL,
  `reviewed` tinyint(4) DEFAULT NULL,
  `holdout_experiment` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `source_integration_platform_type` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `billing_profile_id` (`billing_profile_id`),
  KEY `owner_user_id` (`owner_user_id`),
  KEY `updated_time` (`updated_time`),
  KEY `daily_spend_cap` (`daily_spend_cap`),
  KEY `billing_type` (`billing_type`),
  CONSTRAINT `advertisers_ibfk_1` FOREIGN KEY (`billing_profile_id`) REFERENCES `billing_profiles` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `advertisers_history` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `ldap` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `action_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `crud_type` enum('CREATE','UPDATE','DELETE') COLLATE utf8mb4_unicode_ci NOT NULL,
  `gtid` varchar(64) CHARACTER SET latin1 DEFAULT NULL,
  `auditlog_values` longtext COLLATE utf8mb4_unicode_ci,
  `internal_auditlog_values` longtext COLLATE utf8mb4_unicode_ci,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `creation_date` (`creation_date`),
  KEY `action_time` (`action_time`),
  KEY `gtid` (`gtid`),
  KEY `advertiser_id_and_time` (`advertiser_id`,`action_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `app_event_tracking_configs` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `view_window_days` smallint(6) NOT NULL,
  `click_window_days` smallint(6) NOT NULL,
  `closeuprepin_window_days` smallint(6) NOT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `advertiser_id` (`advertiser_id`),
  CONSTRAINT `app_event_tracking_configs_ibfk_1` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `bill_details` (
  `id` bigint(20) NOT NULL,
  `bill_id` bigint(20) NOT NULL,
  `campaign_id` bigint(20) DEFAULT NULL,
  `action_type` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `quantity` bigint(20) DEFAULT NULL,
  `description` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `currency` char(3) COLLATE utf8mb4_unicode_ci DEFAULT 'USD',
  `spend_in_micro_currency` bigint(20) DEFAULT NULL,
  `spend_in_micro_dollar` bigint(20) DEFAULT NULL,
  `unique_line_count_id` bigint(20) DEFAULT NULL,
  `objective_type` int(11) DEFAULT NULL,
  `g_campaign_id` bigint(20) DEFAULT NULL,
  `tax_in_micro_currency` bigint(20) DEFAULT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `g_bill_id` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `type` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT 'CHARGED',
  `discount_in_micro_currency` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `bill_id` (`bill_id`),
  KEY `campaign_id` (`campaign_id`),
  CONSTRAINT `__bill_details_ibfk_1` FOREIGN KEY (`bill_id`) REFERENCES `bills` (`id`),
  CONSTRAINT `__bill_details_ibfk_2` FOREIGN KEY (`campaign_id`) REFERENCES `campaigns` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `billing_actions` (
  `id` bigint(20) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `bill_id` bigint(20) NOT NULL,
  `action_type` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  `action_time` datetime NOT NULL,
  `description` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cybersource_request_id` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `processor_reconciliation_id` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `encrypted_billing_token` varchar(256) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `gid` bigint(20) DEFAULT NULL,
  `g_bill_id` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `gateway` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `merchant_id` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `bill_id` (`bill_id`),
  CONSTRAINT `billing_actions_ibfk_1` FOREIGN KEY (`bill_id`) REFERENCES `bills` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `billing_contacts` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `is_loi_sapin` tinyint(1) NOT NULL DEFAULT '0',
  `active` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `advertiser_id` (`advertiser_id`),
  KEY `g_advertiser_id` (`g_advertiser_id`),
  CONSTRAINT `billing_contacts_ibfk_1` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `billing_profiles` (
  `id` bigint(20) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `advertiser_id` bigint(20) NOT NULL,
  `bill_to_email` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `card_type` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `card_number` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `card_expiration` date DEFAULT NULL,
  `billing_type` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `invoice_mapping` mediumtext COLLATE utf8mb4_unicode_ci,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `encrypted_billing_token` varchar(256) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `gateway` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `merchant_id` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `payment_method_type` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `payment_method_brand` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `status` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `advertiser_id` (`advertiser_id`),
  CONSTRAINT `billing_profiles_ibfk_1` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `bills` (
  `id` bigint(20) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `advertiser_id` bigint(20) NOT NULL,
  `reconciliation_id` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `start_time` datetime NOT NULL,
  `end_time` datetime DEFAULT NULL,
  `currency` char(3) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'USD',
  `spend_in_micro_currency` bigint(20) NOT NULL,
  `spend_in_micro_dollar` bigint(20) NOT NULL,
  `status` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `last_billing_action_id` bigint(20) DEFAULT NULL,
  `billing_profile_id` bigint(20) DEFAULT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `tax_in_micro_currency` bigint(20) DEFAULT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `original_bill_id` bigint(20) DEFAULT NULL,
  `type` smallint(6) DEFAULT NULL,
  `business_profile_id` bigint(20) DEFAULT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `g_last_billing_action_id` bigint(20) DEFAULT NULL,
  `g_billing_profile_id` bigint(20) DEFAULT NULL,
  `g_original_bill_id` bigint(20) DEFAULT NULL,
  `g_business_profile_id` bigint(20) DEFAULT NULL,
  `total_in_micro_currency` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `reconciliation_id` (`reconciliation_id`),
  KEY `advertiser_id` (`advertiser_id`),
  KEY `business_profile_id` (`business_profile_id`),
  KEY `g_advertiser_id` (`g_advertiser_id`),
  CONSTRAINT `_bills_ibfk_1` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`),
  CONSTRAINT `_bills_ibfk_2` FOREIGN KEY (`business_profile_id`) REFERENCES `business_profiles` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `bulk_v2_enqueues` (
  `g_advertiser_id` bigint(20) NOT NULL,
  `request_id` varchar(256) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `job_type` smallint(6) NOT NULL,
  PRIMARY KEY (`g_advertiser_id`,`request_id`,`job_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC;
CREATE TABLE `bulk_v2_jobs` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `request_id` varchar(256) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `s3_path` varchar(1024) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `job_type` smallint(6) NOT NULL,
  `status` smallint(6) NOT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `deleted` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `request_id` (`request_id`),
  KEY `job_type` (`job_type`,`status`,`creation_date`),
  KEY `advertiser_id` (`advertiser_id`,`job_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC;
CREATE TABLE `business_profiles` (
  `id` bigint(20) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `gid` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `campaign_specs` (
  `id` bigint(20) NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `campaign_id` bigint(20) NOT NULL,
  `start_time` datetime DEFAULT NULL,
  `end_time` datetime DEFAULT NULL,
  `budget` bigint(20) NOT NULL,
  `bonus_budget` bigint(20) DEFAULT NULL,
  `lifetime_paid_budget` bigint(20) NOT NULL DEFAULT '0',
  `lifetime_bonus_budget` bigint(20) NOT NULL DEFAULT '0',
  `gid` bigint(20) DEFAULT NULL,
  `g_campaign_id` bigint(20) DEFAULT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `paused` tinyint(1) NOT NULL DEFAULT '0',
  `order_line_id` bigint(20) DEFAULT NULL,
  `status` smallint(6) DEFAULT NULL,
  `g_order_line_id` bigint(20) DEFAULT NULL,
  `is_managed` tinyint(1) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `version` smallint(6) NOT NULL DEFAULT '0',
  `objective_type` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `order_line_id` (`order_line_id`),
  KEY `campaign_id` (`campaign_id`),
  CONSTRAINT `campaign_specs_ibfk_1` FOREIGN KEY (`order_line_id`) REFERENCES `order_lines` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `campaigns` (
  `id` bigint(20) NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `campaign_spec_id` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `unique_line_count_id` bigint(20) DEFAULT NULL,
  `action_type` int(11) DEFAULT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `g_campaign_spec_id` bigint(20) DEFAULT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `creative_type` int(11) DEFAULT NULL,
  `objective_type` int(11) DEFAULT NULL,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `integration_platform_type` tinyint(1) NOT NULL DEFAULT '0',
  `integration_platform_equivalent_id` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `holdout_experiment` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `ix_campaigns_advertiser_id` (`advertiser_id`),
  KEY `campaign_spec_id` (`campaign_spec_id`),
  KEY `active` (`active`),
  KEY `updated_time` (`updated_time`),
  CONSTRAINT `_campaigns_ibfk_1` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`),
  CONSTRAINT `_campaigns_ibfk_2` FOREIGN KEY (`campaign_spec_id`) REFERENCES `campaign_specs` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `campaigns_history` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `ldap` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `action_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `crud_type` enum('CREATE','UPDATE','DELETE') COLLATE utf8mb4_unicode_ci NOT NULL,
  `gtid` varchar(64) CHARACTER SET latin1 DEFAULT NULL,
  `campaign_id` bigint(20) NOT NULL,
  `g_campaign_id` bigint(20) NOT NULL,
  `auditlog_values` longtext COLLATE utf8mb4_unicode_ci,
  `internal_auditlog_values` longtext COLLATE utf8mb4_unicode_ci,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `campaign_id` (`campaign_id`),
  KEY `creation_date` (`creation_date`),
  KEY `action_time` (`action_time`),
  KEY `gtid` (`gtid`),
  KEY `advertiser_id_and_time` (`advertiser_id`,`action_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `carousel_slot_promotions` (
  `id` bigint(20) NOT NULL,
  `status` smallint(6) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `carousel_data_id` bigint(20) NOT NULL,
  `carousel_slot_id` bigint(20) NOT NULL,
  `slot_index` smallint(6) NOT NULL,
  `pin_promotion_id` bigint(20) NOT NULL,
  `g_pin_promotion_id` bigint(20) NOT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `gid` (`gid`),
  KEY `pin_promotion_id` (`pin_promotion_id`),
  CONSTRAINT `carousel_slot_promotions_ibfk_1` FOREIGN KEY (`pin_promotion_id`) REFERENCES `pin_promotions` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `completed_report_executions` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) NOT NULL,
  `report_schedule_id` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `client_id` bigint(20) NOT NULL,
  `user_id` bigint(20) NOT NULL,
  `scheduled_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `execution_start_time` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `execution_end_time` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `status` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  `report_link` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Holds completed scheduled reports';
CREATE TABLE `conversion_tags` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `active` tinyint(1) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `name` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  `id_str` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  `type` smallint(6) NOT NULL,
  `view_window_days` smallint(6) NOT NULL,
  `click_window_days` smallint(6) NOT NULL,
  `engagement_window_days` smallint(6) NOT NULL,
  `verification_status` smallint(6) NOT NULL,
  `deleted` tinyint(1) NOT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `remarketing_enabled` tinyint(1) NOT NULL DEFAULT '0',
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_str` (`id_str`),
  KEY `advertiser_id` (`advertiser_id`),
  CONSTRAINT `conversion_tags_ibfk_1` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `goals` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `entity_id` bigint(20) NOT NULL,
  `entity_type` smallint(6) NOT NULL,
  `goal_type` smallint(6) NOT NULL,
  `goal_value` decimal(15,3) DEFAULT NULL,
  `click_attribution` smallint(6) DEFAULT NULL,
  `engagement_attribution` smallint(6) DEFAULT NULL,
  `view_attribution` smallint(6) DEFAULT NULL,
  `click_attribution_weight` decimal(6,5) NOT NULL DEFAULT '1.00000',
  `engagement_attribution_weight` decimal(6,5) NOT NULL DEFAULT '1.00000',
  `view_attribution_weight` decimal(6,5) NOT NULL DEFAULT '1.00000',
  `goal_measurement_source` smallint(6) NOT NULL DEFAULT '0',
  `goal_status` smallint(6) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `entity` (`entity_id`,`entity_type`),
  KEY `goals_ibfk_1` (`advertiser_id`),
  CONSTRAINT `__goals_ibfk_1` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `metrics_report_templates` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `user_id` bigint(20) NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `report_start_relative_days_in_past` smallint(6) DEFAULT NULL,
  `report_end_relative_days_in_past` smallint(6) DEFAULT NULL,
  `report_level` smallint(6) NOT NULL,
  `report_format` smallint(6) NOT NULL,
  `columns` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `granularity` smallint(6) NOT NULL,
  `view_window_days` smallint(6) NOT NULL,
  `engagement_window_days` smallint(6) NOT NULL,
  `click_window_days` smallint(6) NOT NULL,
  `conversion_report_time_type` smallint(6) NOT NULL,
  `filters` mediumtext COLLATE utf8mb4_unicode_ci,
  `is_owned_by_user` tinyint(1) NOT NULL,
  `is_scheduled` tinyint(1) NOT NULL,
  `creation_source` smallint(6) NOT NULL,
  `is_deleted` tinyint(1) NOT NULL,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `properties` text COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  KEY `advertiser_id_user_id_idx` (`advertiser_id`,`user_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `notifications` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `entity_id` bigint(20) NOT NULL,
  `notification_type` tinyint(1) NOT NULL,
  `activation_time` datetime NOT NULL,
  `expiration_time` datetime DEFAULT NULL,
  `dismissal_time` datetime DEFAULT NULL,
  `deleted` tinyint(1) NOT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  KEY `advertiser_id` (`advertiser_id`),
  KEY `entity_id` (`entity_id`),
  CONSTRAINT `notifications_ibfk_1` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `order_line_specs` (
  `id` bigint(20) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `order_line_id` bigint(20) NOT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `gid` bigint(20) DEFAULT NULL,
  `g_order_line_id` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `order_line_id` (`order_line_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `order_lines` (
  `id` bigint(20) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `spec_id` bigint(20) DEFAULT NULL,
  `billing_profile_id` bigint(20) DEFAULT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `gid` bigint(20) DEFAULT NULL,
  `g_spec_id` bigint(20) DEFAULT NULL,
  `g_billing_profile_id` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `billing_profile_id` (`billing_profile_id`),
  KEY `spec_id` (`spec_id`),
  KEY `advertiser_id` (`advertiser_id`),
  CONSTRAINT `order_lines_ibfk_1` FOREIGN KEY (`billing_profile_id`) REFERENCES `billing_profiles` (`id`),
  CONSTRAINT `order_lines_ibfk_2` FOREIGN KEY (`spec_id`) REFERENCES `order_line_specs` (`id`),
  CONSTRAINT `order_lines_ibfk_3` FOREIGN KEY (`spec_id`) REFERENCES `order_line_specs` (`id`),
  CONSTRAINT `order_lines_ibfk_4` FOREIGN KEY (`advertiser_id`) REFERENCES `advertisers` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `pin_promotion_labels` (
  `id` bigint(20) unsigned NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `g_spec_id` bigint(20) DEFAULT NULL,
  `label_id` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) DEFAULT NULL,
  `spec_id` bigint(20) DEFAULT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `pin_promotion_id` bigint(20) DEFAULT NULL,
  `g_pin_promotion_id` bigint(20) DEFAULT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `pin_promotion_spec_id` (`g_spec_id`,`label_id`),
  KEY `label_id` (`label_id`),
  KEY `advertiser_id_spec_id` (`advertiser_id`,`spec_id`),
  KEY `spec_id` (`spec_id`),
  KEY `pin_promotion_date_labels_idx` (`pin_promotion_id`,`creation_date`,`label_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `pin_promotion_specs` (
  `id` bigint(20) NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `pin_promotion_id` bigint(20) NOT NULL,
  `campaign_spec_id` bigint(20) DEFAULT NULL,
  `destination_url` varchar(2048) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `targeting_deprecated` longtext COLLATE utf8mb4_unicode_ci,
  `annotations` longtext COLLATE utf8mb4_unicode_ci,
  `frequency_cap` int(11) DEFAULT NULL,
  `bid` bigint(20) DEFAULT NULL,
  `obsolete_auction_bid` bigint(20) DEFAULT '0',
  `silent_promotion` tinyint(1) NOT NULL DEFAULT '0',
  `approved` tinyint(1) NOT NULL DEFAULT '0',
  `reviewed` tinyint(1) NOT NULL DEFAULT '0',
  `exact_match` tinyint(1) NOT NULL DEFAULT '0',
  `user_targeting` tinyint(1) NOT NULL DEFAULT '0',
  `num_total_email_targeted` bigint(20) NOT NULL DEFAULT '0',
  `num_matched_user_emails` bigint(20) NOT NULL DEFAULT '0',
  `gid` bigint(20) DEFAULT NULL,
  `g_campaign_spec_id` bigint(20) DEFAULT NULL,
  `g_pin_promotion_id` bigint(20) DEFAULT NULL,
  `view_tags` mediumtext COLLATE utf8mb4_unicode_ci,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `targeting_spec_id` bigint(20) DEFAULT NULL,
  `g_targeting_spec_id` bigint(20) DEFAULT NULL,
  `lifetime_frequency_cap` int(11) DEFAULT NULL,
  `user_list_id` bigint(20) DEFAULT NULL,
  `g_user_list_id` bigint(20) DEFAULT '0',
  `num_user_list_versions` bigint(20) DEFAULT '0',
  `has_valid_creative_type` tinyint(1) NOT NULL DEFAULT '1',
  `status` smallint(6) DEFAULT NULL,
  `is_ephemeral` tinyint(1) NOT NULL DEFAULT '0',
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `creative_type` int(11) DEFAULT NULL,
  `review_result` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `campaign_spec_id` (`campaign_spec_id`),
  KEY `targeting_spec_id` (`targeting_spec_id`),
  KEY `user_list_id` (`user_list_id`),
  KEY `idx_unreviewed` (`active`,`reviewed`,`creation_date`),
  KEY `pin_promotion_id_approved_reviewed` (`pin_promotion_id`,`approved`,`reviewed`),
  CONSTRAINT `_pin_promotion_specs_ibfk_1` FOREIGN KEY (`pin_promotion_id`) REFERENCES `pin_promotions` (`id`),
  CONSTRAINT `_pin_promotion_specs_ibfk_2` FOREIGN KEY (`campaign_spec_id`) REFERENCES `campaign_specs` (`id`),
  CONSTRAINT `_pin_promotion_specs_ibfk_3` FOREIGN KEY (`targeting_spec_id`) REFERENCES `targeting_specs` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `pin_promotions` (
  `id` bigint(20) NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `campaign_id` bigint(20) NOT NULL,
  `pin_id` bigint(20) NOT NULL,
  `spec_id` bigint(20) DEFAULT NULL,
  `pin_deleted` tinyint(1) NOT NULL DEFAULT '0',
  `marked_promoted` tinyint(1) NOT NULL DEFAULT '0',
  `gid` bigint(20) DEFAULT NULL,
  `g_campaign_id` bigint(20) NOT NULL,
  `g_spec_id` bigint(20) DEFAULT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ad_group_id` bigint(20) NOT NULL,
  `g_ad_group_id` bigint(20) NOT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `last_approved` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `ix_pin_promotions_campaign_id` (`campaign_id`),
  KEY `ix_pin_promotions_pin_id` (`pin_id`),
  KEY `active` (`active`,`pin_deleted`),
  KEY `spec_id_2` (`spec_id`,`ad_group_id`,`gid`),
  KEY `updated_time` (`updated_time`),
  KEY `idx_advertiser_id` (`advertiser_id`),
  KEY `ix_g_pin_promotion_id` (`gid`),
  KEY `ad_group_id_spec_id` (`ad_group_id`,`spec_id`),
  CONSTRAINT `pin_promotions_ibfk_1` FOREIGN KEY (`campaign_id`) REFERENCES `campaigns` (`id`),
  CONSTRAINT `pin_promotions_ibfk_2` FOREIGN KEY (`ad_group_id`) REFERENCES `ad_groups` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `pin_promotions_history` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `user_id` bigint(20) DEFAULT NULL,
  `ldap` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `action_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `crud_type` enum('CREATE','UPDATE','DELETE') COLLATE utf8mb4_unicode_ci NOT NULL,
  `gtid` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `campaign_id` bigint(20) NOT NULL,
  `g_campaign_id` bigint(20) NOT NULL,
  `pin_promotion_id` bigint(20) NOT NULL,
  `g_pin_promotion_id` bigint(20) NOT NULL,
  `auditlog_values` longtext COLLATE utf8mb4_unicode_ci,
  `internal_auditlog_values` longtext COLLATE utf8mb4_unicode_ci,
  `ad_group_id` bigint(20) NOT NULL,
  `g_ad_group_id` bigint(20) NOT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `campaign_id` (`campaign_id`),
  KEY `pin_promotion_id` (`pin_promotion_id`),
  KEY `ad_group_id` (`ad_group_id`),
  KEY `creation_date` (`creation_date`),
  KEY `action_time` (`action_time`),
  KEY `gtid` (`gtid`),
  KEY `advertiser_id_and_time` (`advertiser_id`,`action_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `pinner_list_specs` (
  `id` bigint(20) NOT NULL,
  `pinner_list_id` bigint(20) DEFAULT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `rule` mediumtext COLLATE utf8mb4_unicode_ci,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `data_party_type` tinyint(1) DEFAULT NULL,
  `sharing_type` tinyint(1) DEFAULT NULL,
  `category` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `brand_type` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `data_partner` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `planning_moment_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `pinner_list_id` (`pinner_list_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `pinner_lists` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `type` tinyint(1) NOT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `status` tinyint(1) NOT NULL,
  `size` int(11) DEFAULT NULL,
  `spec_id` bigint(20) DEFAULT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `deleted` tinyint(1) NOT NULL DEFAULT '0',
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `advertiser_id` (`advertiser_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `product_group_specs` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '0',
  `valid` tinyint(1) NOT NULL DEFAULT '0',
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `product_group_id` bigint(20) DEFAULT NULL,
  `g_product_group_id` bigint(20) DEFAULT NULL,
  `bid` bigint(20) DEFAULT NULL,
  `reviewed` tinyint(1) NOT NULL DEFAULT '0',
  `approved` tinyint(1) NOT NULL DEFAULT '0',
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `destination_url` varchar(2048) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_ephemeral` tinyint(1) NOT NULL DEFAULT '0',
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `creative_type` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `product_group_id` (`product_group_id`),
  CONSTRAINT `product_group_specs_ibfk_1` FOREIGN KEY (`product_group_id`) REFERENCES `product_groups` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `product_groups` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '0',
  `valid` tinyint(1) DEFAULT NULL,
  `inclusion` tinyint(1) DEFAULT '0',
  `parent_product_group_id` bigint(20) DEFAULT NULL,
  `g_parent_product_group_id` bigint(20) DEFAULT NULL,
  `ad_group_id` bigint(20) DEFAULT NULL,
  `g_ad_group_id` bigint(20) DEFAULT NULL,
  `spec_id` bigint(20) DEFAULT NULL,
  `g_spec_id` bigint(20) DEFAULT NULL,
  `product_group_type` smallint(6) NOT NULL,
  `product_group_definition` mediumtext COLLATE utf8mb4_unicode_ci,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `ad_group_id` (`ad_group_id`),
  KEY `spec_id` (`spec_id`),
  KEY `ppgid` (`parent_product_group_id`,`valid`),
  KEY `updated_time` (`updated_time`),
  KEY `advertiser_id` (`advertiser_id`),
  CONSTRAINT `_product_groups_ibfk_1` FOREIGN KEY (`ad_group_id`) REFERENCES `ad_groups` (`id`),
  CONSTRAINT `_product_groups_ibfk_2` FOREIGN KEY (`spec_id`) REFERENCES `product_group_specs` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `promoted_catalog_product_groups` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `status` smallint(6) DEFAULT NULL,
  `ad_group_id` bigint(20) DEFAULT NULL,
  `g_ad_group_id` bigint(20) DEFAULT NULL,
  `catalog_product_group_id` bigint(20) DEFAULT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `bid` bigint(20) DEFAULT NULL,
  `destination_url` varchar(2048) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `reviewed` tinyint(1) DEFAULT NULL,
  `approved` tinyint(1) DEFAULT NULL,
  `properties` text COLLATE utf8mb4_unicode_ci,
  `campaign_id` bigint(20) NOT NULL,
  `g_campaign_id` bigint(20) NOT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `creative_type` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `ad_group_id` (`ad_group_id`),
  KEY `id` (`gid`),
  KEY `catalog_product_group_id` (`catalog_product_group_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `promoted_catalog_product_groups_history` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) NOT NULL,
  `promoted_catalog_product_group_id` bigint(20) DEFAULT NULL,
  `promoted_catalog_product_group_gid` bigint(20) DEFAULT NULL,
  `status` tinyint(1) DEFAULT NULL,
  `ad_group_id` bigint(20) DEFAULT NULL,
  `g_ad_group_id` bigint(20) DEFAULT NULL,
  `catalog_product_group_id` bigint(20) DEFAULT NULL,
  `creation_date` timestamp NULL DEFAULT NULL,
  `updated_time` timestamp NULL DEFAULT NULL,
  `bid` bigint(20) DEFAULT NULL,
  `destination_url` varchar(2048) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `reviewed` tinyint(1) DEFAULT NULL,
  `approved` tinyint(1) DEFAULT NULL,
  `properties` text COLLATE utf8mb4_unicode_ci,
  `campaign_id` bigint(20) NOT NULL,
  `g_campaign_id` bigint(20) NOT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `history_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `creative_type` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `gid` (`gid`),
  KEY `promoted_catalog_product_group_id` (`promoted_catalog_product_group_id`),
  KEY `promoted_catalog_product_group_gid` (`promoted_catalog_product_group_gid`),
  KEY `catalog_product_group_id` (`catalog_product_group_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `rule_subscriptions` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `g_entity_id` bigint(20) NOT NULL,
  `entity_type` smallint(6) NOT NULL,
  `rule_type` smallint(6) NOT NULL,
  `subscription_type` smallint(6) NOT NULL,
  `update_frequency_in_seconds` int(11) DEFAULT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `active` tinyint(1) NOT NULL DEFAULT '1',
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `scheduled_report_chunk_executions` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) NOT NULL,
  `report_schedule_id` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `client_id` bigint(20) NOT NULL,
  `user_id` bigint(20) NOT NULL,
  `scheduled_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `claimed_time` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `execution_start_time` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `execution_end_time` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `status` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT 'SCHEDULED',
  `complete_by` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `params_link` longtext COLLATE utf8mb4_unicode_ci,
  PRIMARY KEY (`id`),
  KEY `advertiser_id_client_id_idx` (`advertiser_id`,`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Holds executable scheduled reports';
CREATE TABLE `scheduled_reports` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) NOT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  `client_id` bigint(20) NOT NULL,
  `user_id` bigint(20) NOT NULL,
  `status` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT 'ACTIVE',
  `report_template_id` bigint(20) NOT NULL,
  `report_template_gid` bigint(20) NOT NULL,
  `days_of_the_week` set('1','2','3','4','5','6','7') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `days_of_the_month` set('1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `months_of_the_year` set('1','2','3','4','5','6','7','8','9','10','11','12') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `created_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `email_list` varchar(2500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `advertiser_id_client_id_idx` (`advertiser_id`,`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Holds report schedules';
CREATE TABLE `targeting_attribute_counts_by_advertiser` (
  `advertiser_gid` bigint(20) NOT NULL,
  `active_keywords_count` bigint(20) NOT NULL DEFAULT '0',
  `advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`advertiser_gid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `targeting_attribute_counts_by_parent` (
  `parent_gid` bigint(20) NOT NULL,
  `active_keywords_count` bigint(20) NOT NULL DEFAULT '0',
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`parent_gid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `targeting_attribute_history` (
  `id` bigint(20) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `targeting_attribute_id` bigint(20) DEFAULT NULL,
  `targeting_attribute_gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `targeting_attribute_creation_date` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `targeting_attribute_updated_time` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `type` tinyint(1) NOT NULL,
  `parent_id` bigint(20) DEFAULT NULL,
  `value` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `match_type` tinyint(1) NOT NULL,
  `exclude` tinyint(1) NOT NULL DEFAULT '0',
  `bid` bigint(20) DEFAULT NULL,
  `destination_url` varchar(2048) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `deleted` tinyint(1) NOT NULL DEFAULT '0',
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `targeting_attribute_id` (`targeting_attribute_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `targeting_attributes` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `type` tinyint(1) NOT NULL,
  `parent_id` bigint(20) DEFAULT NULL,
  `value` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `match_type` tinyint(1) NOT NULL,
  `exclude` tinyint(1) NOT NULL DEFAULT '0',
  `bid` bigint(20) DEFAULT NULL,
  `destination_url` varchar(2048) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `deleted` tinyint(1) NOT NULL DEFAULT '0',
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `adv_del_type_idx` (`advertiser_id`,`deleted`,`type`),
  KEY `parent_id_3` (`parent_id`,`match_type`,`deleted`,`value`,`exclude`,`gid`,`bid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `targeting_specs` (
  `id` bigint(20) NOT NULL,
  `targeting` longtext COLLATE utf8mb4_unicode_ci,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
CREATE TABLE `user_preferences` (
  `id` bigint(20) NOT NULL,
  `gid` bigint(20) DEFAULT NULL,
  `advertiser_id` bigint(20) NOT NULL,
  `creation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `properties` mediumtext COLLATE utf8mb4_unicode_ci,
  `g_advertiser_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `advertiser_id` (`advertiser_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
